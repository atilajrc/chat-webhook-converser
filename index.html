
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N8N Webhook Chat</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.462.0/lucide.min.css" rel="stylesheet">
</head>
<body>
    <div class="app">
        <header class="header">
            <h1>N8N Webhook Chat</h1>
            <p>Sistema de chat integrado com webhook N8N</p>
        </header>
        
        <div class="main-container">
            <!-- √Årea principal do chat -->
            <div class="chat-area">
                <!-- Configura√ß√£o do Webhook -->
                <div class="webhook-config">
                    <label for="webhook-url">URL do Webhook N8N:</label>
                    <input type="url" id="webhook-url" value="http://100.100.46.98:5678/webhook/4a826df4-1f5a-4c29-97eb-0879c751c681" 
                           placeholder="https://your-n8n-instance.com/webhook/your-webhook-id">
                    <p class="request-id">ID da Requisi√ß√£o (fixo): n8n-webhook-chat-001</p>
                </div>

                <!-- √Årea de resposta -->
                <div class="response-area">
                    <div class="response-header">
                        <div class="response-header-left">
                            <span class="icon">üí¨</span>
                            <h3>Resposta do Webhook</h3>
                        </div>
                        <div class="response-buttons">
                            <button id="copy-response-btn" class="action-btn" style="display: none;">
                                <span class="icon">üìã</span>
                                Copiar
                            </button>
                            <button id="clear-response-btn" class="action-btn" style="display: none;">
                                <span class="icon">üóëÔ∏è</span>
                                Limpar
                            </button>
                            <button id="export-pdf-btn" class="pdf-btn" style="display: none;">
                                <span class="icon">üìÑ</span>
                                PDF
                            </button>
                        </div>
                    </div>
                    <div class="response-content" id="response-content">
                        <div class="empty-response">
                            <p>Nenhuma resposta ainda</p>
                            <small>A resposta do webhook aparecer√° aqui</small>
                        </div>
                    </div>
                </div>

                <!-- √Årea de entrada -->
                <div class="input-area">
                    <!-- Bot√µes de upload acima do textarea -->
                    <div class="upload-buttons-row">
                        <button class="upload-btn-inline" id="image-btn" title="Enviar Imagem">
                            <span class="icon">üñºÔ∏è</span>
                            <span class="upload-label">Imagem</span>
                        </button>
                        <input type="file" id="image-input" accept="image/*" style="display: none;">

                        <button class="upload-btn-inline" id="document-btn" title="Enviar Documento">
                            <span class="icon">üìÑ</span>
                            <span class="upload-label">Documento</span>
                        </button>
                        <input type="file" id="document-input" accept=".pdf,.doc,.docx,.txt,.xls,.xlsx,.ppt,.pptx" style="display: none;">

                        <button class="upload-btn-inline" id="audio-btn" title="√Åudio">
                            <span class="icon">üéµ</span>
                            <span class="upload-label">√Åudio</span>
                        </button>
                        <input type="file" id="audio-input" accept="audio/*" style="display: none;">
                    </div>

                    <!-- √Årea de texto -->
                    <div class="text-input-container">
                        <textarea id="message-input" placeholder="Digite sua mensagem... (Enter para enviar, Shift+Enter para nova linha)"></textarea>
                    </div>

                    <div class="button-row">
                        <button id="send-btn" class="primary-btn">
                            <span class="icon">üì§</span>
                            Enviar
                        </button>
                        <button id="clear-btn" class="secondary-btn">
                            <span class="icon">üóëÔ∏è</span>
                            Limpar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Controle do hist√≥rico no canto superior direito -->
            <div class="history-control">
                <label class="history-checkbox">
                    <input type="checkbox" id="history-toggle" checked>
                    <span>Hist√≥rico</span>
                    <button id="clear-history-btn" class="clear-history-btn" title="Limpar hist√≥rico">üóëÔ∏è</button>
                </label>
            </div>

            <!-- Hist√≥rico lateral -->
            <div class="history-sidebar" id="history-sidebar">
                <div class="history-content" id="history-content">
                    <div class="empty-history">
                        <p>Nenhuma mensagem no hist√≥rico</p>
                        <small>Suas conversas aparecer√£o aqui</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast container -->
    <div id="toast-container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.3/html2pdf.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
